import{S as A,i as L,s as P,e as w,c as k,a as j,d as h,b as p,f as D,I,U as ne,O as b,H as m,L as ie,M as oe,V as ce,v as q,j as F,t as S,w as X,l as Q,g as C,W as _e,x as M,X as ue,J as y,Y as T,m as he,n as N,A as G,o as fe,p as J,Z as pe,u as me,B as de,y as ge,z as ve,_ as we}from"../chunks/vendor-a54e78f7.js";import{d as re,i as le}from"../chunks/i18n-c52a133f.js";import{S as ke}from"../chunks/StoryCardList-4ea192c2.js";import{H as be}from"../chunks/Helmet-183663f6.js";function je(t){let s;return{c(){s=w("div"),this.h()},l(e){s=k(e,"DIV",{class:!0}),j(s).forEach(h),this.h()},h(){p(s,"class","svelte-1tx04cq")},m(e,r){D(e,s,r)},p:I,i:I,o:I,d(e){e&&h(s)}}}class ye extends A{constructor(s){super();L(this,s,null,je,P,{})}}function Ee(t){let s,e,r;return{c(){s=w("div"),e=w("img"),this.h()},l(n){s=k(n,"DIV",{class:!0});var i=j(s);e=k(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(h),this.h()},h(){p(e,"class","taipei-map svelte-112a01"),ne(e.src,r="covers/taipei_streets_"+(t[2]==="dark"?"white":"black")+".svg")||p(e,"src",r),p(e,"alt","Taipei Map"),b(e,"prioritizeWidth",t[0]),p(s,"class","wrapper svelte-112a01")},m(n,i){D(n,s,i),m(s,e),t[6](s)},p(n,[i]){i&4&&!ne(e.src,r="covers/taipei_streets_"+(n[2]==="dark"?"white":"black")+".svg")&&p(e,"src",r),i&1&&b(e,"prioritizeWidth",n[0])},i:I,o:I,d(n){n&&h(s),t[6](null)}}}const Ie=580,ze=550;function De(t,s,e){let r,n,{width:i}=s,{height:_}=s;const l=ie("theme");oe(t,l,c=>e(2,n=c));let f;function a(c){ce[c?"unshift":"push"](()=>{f=c,e(1,f)})}return t.$$set=c=>{"width"in c&&e(4,i=c.width),"height"in c&&e(5,_=c.height)},t.$$.update=()=>{t.$$.dirty&48&&e(0,r=i/_>Ie/ze),t.$$.dirty&17},[r,f,n,l,i,_,a]}class Se extends A{constructor(s){super();L(this,s,De,Ee,P,{width:4,height:5})}}function Ce(t){let s;return{c(){s=w("div"),this.h()},l(e){s=k(e,"DIV",{class:!0}),j(s).forEach(h),this.h()},h(){p(s,"class","svelte-1tx04cq")},m(e,r){D(e,s,r)},p:I,i:I,o:I,d(e){e&&h(s)}}}class Ve extends A{constructor(s){super();L(this,s,null,Ce,P,{})}}function He(t){let s,e,r,n,i,_,l,f,a,c,u,z,K,g,B,O,v,R,Y,U,Z,$;var V=t[4][t[0]];function x(o){return{props:{width:o[1],height:o[2]}}}return V&&(e=new V(x(t))),{c(){s=w("div"),e&&q(e.$$.fragment),n=F(),i=w("div"),_=w("div"),l=w("div"),f=w("span"),a=S("Daniel Kao"),c=S(` is a
      `),u=w("span"),z=S("graphics journalist"),K=S(` at commonwealth magazine,
      `),g=w("span"),B=S("taiwanese-californian"),O=S(`, currently living in
      `),v=w("span"),R=S("taipei, taiwan"),Y=S("."),this.h()},l(o){s=k(o,"DIV",{class:!0});var d=j(s);e&&X(e.$$.fragment,d),d.forEach(h),n=Q(o),i=k(o,"DIV",{class:!0});var H=j(i);_=k(H,"DIV",{class:!0});var W=j(_);l=k(W,"DIV",{class:!0});var E=j(l);f=k(E,"SPAN",{class:!0});var ee=j(f);a=C(ee,"Daniel Kao"),ee.forEach(h),c=C(E,` is a
      `),u=k(E,"SPAN",{class:!0});var se=j(u);z=C(se,"graphics journalist"),se.forEach(h),K=C(E,` at commonwealth magazine,
      `),g=k(E,"SPAN",{class:!0});var te=j(g);B=C(te,"taiwanese-californian"),te.forEach(h),O=C(E,`, currently living in
      `),v=k(E,"SPAN",{class:!0});var ae=j(v);R=C(ae,"taipei, taiwan"),ae.forEach(h),Y=C(E,"."),E.forEach(h),W.forEach(h),H.forEach(h),this.h()},h(){p(s,"class","illustration svelte-1xawk2s"),_e(()=>t[5].call(s)),p(f,"class","name svelte-1xawk2s"),p(u,"class","link svelte-1xawk2s"),b(u,"active",t[0]==="gj"),p(g,"class","link svelte-1xawk2s"),b(g,"active",t[0]==="tc"),p(v,"class","link svelte-1xawk2s"),b(v,"active",t[0]==="tw"),p(l,"class","hero-text svelte-1xawk2s"),b(l,"selected",!!t[0]),b(l,"loaded",t[3]),p(_,"class","grid svelte-1xawk2s"),p(i,"class","hero svelte-1xawk2s")},m(o,d){D(o,s,d),e&&M(e,s,null),r=ue(s,t[5].bind(s)),D(o,n,d),D(o,i,d),m(i,_),m(_,l),m(l,f),m(f,a),m(l,c),m(l,u),m(u,z),m(l,K),m(l,g),m(g,B),m(l,O),m(l,v),m(v,R),m(l,Y),U=!0,Z||($=[y(u,"mouseover",t[6]),y(u,"click",T(t[7])),y(u,"focus",T(t[8])),y(g,"mouseover",t[9]),y(g,"click",T(t[10])),y(g,"focus",T(t[11])),y(v,"mouseover",t[12]),y(v,"click",T(t[13])),y(v,"focus",T(t[14])),y(i,"click",t[15])],Z=!0)},p(o,[d]){const H={};if(d&2&&(H.width=o[1]),d&4&&(H.height=o[2]),V!==(V=o[4][o[0]])){if(e){he();const W=e;N(W.$$.fragment,1,0,()=>{G(W,1)}),fe()}V?(e=new V(x(o)),q(e.$$.fragment),J(e.$$.fragment,1),M(e,s,null)):e=null}else V&&e.$set(H);d&1&&b(u,"active",o[0]==="gj"),d&1&&b(g,"active",o[0]==="tc"),d&1&&b(v,"active",o[0]==="tw"),d&1&&b(l,"selected",!!o[0]),d&8&&b(l,"loaded",o[3])},i(o){U||(e&&J(e.$$.fragment,o),U=!0)},o(o){e&&N(e.$$.fragment,o),U=!1},d(o){o&&h(s),e&&G(e),r(),o&&h(n),o&&h(i),Z=!1,pe($)}}}function Te(t,s,e){const r={gj:ye,tw:Se,tc:Ve};let n=null,i,_,l=!1;me(()=>{e(3,l=!0)});function f(){_=this.clientHeight,i=this.clientWidth,e(2,_),e(1,i)}return[n,i,_,l,r,f,()=>{e(0,n="gj")},()=>{e(0,n="gj")},()=>{e(0,n="gj")},()=>{e(0,n="tc")},()=>{e(0,n="tc")},()=>{e(0,n="tc")},()=>{e(0,n="tw")},()=>{e(0,n="tw")},()=>{e(0,n="tw")},()=>{e(0,n=null)}]}class We extends A{constructor(s){super();L(this,s,Te,He,P,{})}}function Ae(t){let s,e,r,n,i,_;const l=[t[1]];let f={};for(let a=0;a<l.length;a+=1)f=de(f,l[a]);return s=new be({props:f}),r=new We({}),i=new ke({props:{posts:t[2],pagination:t[0]}}),{c(){q(s.$$.fragment),e=F(),q(r.$$.fragment),n=F(),q(i.$$.fragment)},l(a){X(s.$$.fragment,a),e=Q(a),X(r.$$.fragment,a),n=Q(a),X(i.$$.fragment,a)},m(a,c){M(s,a,c),D(a,e,c),M(r,a,c),D(a,n,c),M(i,a,c),_=!0},p(a,[c]){const u=c&2?ge(l,[ve(a[1])]):{};s.$set(u);const z={};c&4&&(z.posts=a[2]),c&1&&(z.pagination=a[0]),i.$set(z)},i(a){_||(J(s.$$.fragment,a),J(r.$$.fragment,a),J(i.$$.fragment,a),_=!0)},o(a){N(s.$$.fragment,a),N(r.$$.fragment,a),N(i.$$.fragment,a),_=!1},d(a){G(s,a),a&&h(e),G(r,a),a&&h(n),G(i,a)}}}async function Ge({fetch:t}){const{posts:s=[],pagination:e={}}=await t("/content/posts-1.json").then(r=>r.json());return{props:{posts:s,pagination:e}}}function Le(t,s,e){let r,n,i,_,l=I,f=()=>(l(),l=we(r,u=>e(5,_=u)),r);t.$$.on_destroy.push(()=>l());let{posts:a}=s,{pagination:c}=s;return t.$$set=u=>{"posts"in u&&e(4,a=u.posts),"pagination"in u&&e(0,c=u.pagination)},t.$$.update=()=>{t.$$.dirty&48&&e(2,n=a.map(u=>u[_.locale]||u[re])),t.$$.dirty&32&&e(1,i={title:le[_.locale].home||le[re].home})},f(e(3,r=ie("locale"))),[c,i,n,r,a,_]}class Je extends A{constructor(s){super();L(this,s,Le,Ae,P,{posts:4,pagination:0})}}export{Je as default,Ge as load};
