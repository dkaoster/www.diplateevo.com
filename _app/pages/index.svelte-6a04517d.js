import{S as W,i as q,s as A,e as w,c as k,a as b,d as h,b as f,g as I,I as z,U as ie,O as j,H as p,L as F,M as re,V as ce,w as P,k as Q,t as D,x as X,m as $,h as S,W as _e,y as M,X as ue,J as y,Y as T,n as he,o as N,B as G,p as fe,q as J,Z as pe,v as me,C as de,z as ge,A as ve}from"../chunks/vendor-3fbb0f75.js";import{d as le,i as oe}from"../chunks/i18n-fe7097f8.js";import{S as we}from"../chunks/StoryCardList-5630c537.js";import{H as ke}from"../chunks/Helmet-2f98ac4e.js";import"../chunks/image-15d1cba6.js";function je(s){let t;return{c(){t=w("div"),this.h()},l(e){t=k(e,"DIV",{class:!0}),b(t).forEach(h),this.h()},h(){f(t,"class","svelte-1tx04cq")},m(e,o){I(e,t,o)},p:z,i:z,o:z,d(e){e&&h(t)}}}class be extends W{constructor(t){super();q(this,t,null,je,A,{})}}function ye(s){let t,e,o;return{c(){t=w("div"),e=w("img"),this.h()},l(i){t=k(i,"DIV",{class:!0});var n=b(t);e=k(n,"IMG",{class:!0,src:!0,alt:!0}),n.forEach(h),this.h()},h(){f(e,"class","taipei-map svelte-1slv63n"),ie(e.src,o="covers/taipei_streets_"+(s[2]==="dark"?"white":"black")+".svg")||f(e,"src",o),f(e,"alt","Taipei Map"),j(e,"prioritizeWidth",s[0]),f(t,"class","wrapper svelte-1slv63n")},m(i,n){I(i,t,n),p(t,e),s[6](t)},p(i,[n]){n&4&&!ie(e.src,o="covers/taipei_streets_"+(i[2]==="dark"?"white":"black")+".svg")&&f(e,"src",o),n&1&&j(e,"prioritizeWidth",i[0])},i:z,o:z,d(i){i&&h(t),s[6](null)}}}const Ce=580,Ee=550;function Ie(s,t,e){let o,i,{width:n}=t,{height:_}=t;const l=F("theme");re(s,l,r=>e(2,i=r));let u;function a(r){ce[r?"unshift":"push"](()=>{u=r,e(1,u)})}return s.$$set=r=>{"width"in r&&e(4,n=r.width),"height"in r&&e(5,_=r.height)},s.$$.update=()=>{s.$$.dirty&48&&e(0,o=n/_>Ce/Ee),s.$$.dirty&17},[o,u,i,l,n,_,a]}class ze extends W{constructor(t){super();q(this,t,Ie,ye,A,{width:4,height:5})}}function De(s){let t;return{c(){t=w("div"),this.h()},l(e){t=k(e,"DIV",{class:!0}),b(t).forEach(h),this.h()},h(){f(t,"class","svelte-1tx04cq")},m(e,o){I(e,t,o)},p:z,i:z,o:z,d(e){e&&h(t)}}}class Se extends W{constructor(t){super();q(this,t,null,De,A,{})}}function Ve(s){let t,e,o,i,n,_,l,u,a,r,m,E,K,g,R,U,v,B,Y,O,Z,x;var V=s[4][s[0]];function ee(c){return{props:{width:c[1],height:c[2]}}}return V&&(e=new V(ee(s))),{c(){t=w("div"),e&&P(e.$$.fragment),i=Q(),n=w("div"),_=w("div"),l=w("div"),u=w("span"),a=D("Daniel Kao"),r=D(` is a
      `),m=w("span"),E=D("graphics journalist"),K=D(` at commonwealth magazine,
      `),g=w("span"),R=D("taiwanese-californian"),U=D(`, currently living in
      `),v=w("span"),B=D("taipei, taiwan"),Y=D("."),this.h()},l(c){t=k(c,"DIV",{class:!0});var d=b(t);e&&X(e.$$.fragment,d),d.forEach(h),i=$(c),n=k(c,"DIV",{class:!0});var H=b(n);_=k(H,"DIV",{class:!0});var L=b(_);l=k(L,"DIV",{class:!0});var C=b(l);u=k(C,"SPAN",{class:!0});var te=b(u);a=S(te,"Daniel Kao"),te.forEach(h),r=S(C,` is a
      `),m=k(C,"SPAN",{class:!0});var se=b(m);E=S(se,"graphics journalist"),se.forEach(h),K=S(C,` at commonwealth magazine,
      `),g=k(C,"SPAN",{class:!0});var ae=b(g);R=S(ae,"taiwanese-californian"),ae.forEach(h),U=S(C,`, currently living in
      `),v=k(C,"SPAN",{class:!0});var ne=b(v);B=S(ne,"taipei, taiwan"),ne.forEach(h),Y=S(C,"."),C.forEach(h),L.forEach(h),H.forEach(h),this.h()},h(){f(t,"class","illustration svelte-1woppi2"),_e(()=>s[5].call(t)),f(u,"class","name svelte-1woppi2"),f(m,"class","link svelte-1woppi2"),j(m,"active",s[0]==="gj"),f(g,"class","link svelte-1woppi2"),j(g,"active",s[0]==="tc"),f(v,"class","link svelte-1woppi2"),j(v,"active",s[0]==="tw"),f(l,"class","hero-text svelte-1woppi2"),j(l,"selected",!!s[0]),j(l,"loaded",s[3]),f(_,"class","grid svelte-1woppi2"),f(n,"class","hero svelte-1woppi2")},m(c,d){I(c,t,d),e&&M(e,t,null),o=ue(t,s[5].bind(t)),I(c,i,d),I(c,n,d),p(n,_),p(_,l),p(l,u),p(u,a),p(l,r),p(l,m),p(m,E),p(l,K),p(l,g),p(g,R),p(l,U),p(l,v),p(v,B),p(l,Y),O=!0,Z||(x=[y(m,"mouseover",s[6]),y(m,"click",T(s[7])),y(m,"focus",T(s[8])),y(g,"mouseover",s[9]),y(g,"click",T(s[10])),y(g,"focus",T(s[11])),y(v,"mouseover",s[12]),y(v,"click",T(s[13])),y(v,"focus",T(s[14])),y(n,"click",s[15])],Z=!0)},p(c,[d]){const H={};if(d&2&&(H.width=c[1]),d&4&&(H.height=c[2]),V!==(V=c[4][c[0]])){if(e){he();const L=e;N(L.$$.fragment,1,0,()=>{G(L,1)}),fe()}V?(e=new V(ee(c)),P(e.$$.fragment),J(e.$$.fragment,1),M(e,t,null)):e=null}else V&&e.$set(H);d&1&&j(m,"active",c[0]==="gj"),d&1&&j(g,"active",c[0]==="tc"),d&1&&j(v,"active",c[0]==="tw"),d&1&&j(l,"selected",!!c[0]),d&8&&j(l,"loaded",c[3])},i(c){O||(e&&J(e.$$.fragment,c),O=!0)},o(c){e&&N(e.$$.fragment,c),O=!1},d(c){c&&h(t),e&&G(e),o(),c&&h(i),c&&h(n),Z=!1,pe(x)}}}function He(s,t,e){const o={gj:be,tw:ze,tc:Se};let i=null,n,_,l=!1;me(()=>{e(3,l=!0)});function u(){_=this.clientHeight,n=this.clientWidth,e(2,_),e(1,n)}return[i,n,_,l,o,u,()=>{e(0,i="gj")},()=>{e(0,i="gj")},()=>{e(0,i="gj")},()=>{e(0,i="tc")},()=>{e(0,i="tc")},()=>{e(0,i="tc")},()=>{e(0,i="tw")},()=>{e(0,i="tw")},()=>{e(0,i="tw")},()=>{e(0,i=null)}]}class Te extends W{constructor(t){super();q(this,t,He,Ve,A,{})}}function Le(s){let t,e,o,i,n,_;const l=[s[1]];let u={};for(let a=0;a<l.length;a+=1)u=de(u,l[a]);return t=new ke({props:u}),o=new Te({}),n=new we({props:{posts:s[2],pagination:s[0]}}),{c(){P(t.$$.fragment),e=Q(),P(o.$$.fragment),i=Q(),P(n.$$.fragment)},l(a){X(t.$$.fragment,a),e=$(a),X(o.$$.fragment,a),i=$(a),X(n.$$.fragment,a)},m(a,r){M(t,a,r),I(a,e,r),M(o,a,r),I(a,i,r),M(n,a,r),_=!0},p(a,[r]){const m=r&2?ge(l,[ve(a[1])]):{};t.$set(m);const E={};r&4&&(E.posts=a[2]),r&1&&(E.pagination=a[0]),n.$set(E)},i(a){_||(J(t.$$.fragment,a),J(o.$$.fragment,a),J(n.$$.fragment,a),_=!0)},o(a){N(t.$$.fragment,a),N(o.$$.fragment,a),N(n.$$.fragment,a),_=!1},d(a){G(t,a),a&&h(e),G(o,a),a&&h(i),G(n,a)}}}async function Ge({fetch:s}){await s("rss.xml");const{posts:t=[],pagination:e={}}=await s("/content/posts-1.json").then(o=>o.json());return{props:{posts:t,pagination:e}}}function We(s,t,e){let o,i,n,{posts:_}=t,{pagination:l}=t;const u=F("locale");re(s,u,r=>e(5,n=r));const a=F("siteConfig");return s.$$set=r=>{"posts"in r&&e(4,_=r.posts),"pagination"in r&&e(0,l=r.pagination)},s.$$.update=()=>{s.$$.dirty&48&&e(2,o=_.map(r=>r[n.locale]||r[le])),s.$$.dirty&32&&e(1,i={title:oe[n.locale].home||oe[le].home,description:a.description,url:`${a.baseURL}/`})},[l,i,o,u,_,n]}class Je extends W{constructor(t){super();q(this,t,We,Le,A,{posts:4,pagination:0})}}export{Je as default,Ge as load};
