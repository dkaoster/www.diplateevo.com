import{S as W,i as A,s as L,e as w,c as k,a as j,d as h,b as p,f as z,I as E,U as ne,O as b,H as d,L as ie,M as oe,V as ce,v as P,j as F,t as D,w as X,l as Q,g as S,W as _e,x as M,X as ue,J as y,Y as H,m as he,n as N,A as G,o as fe,p as J,Z as pe,u as de,B as me,y as ge,z as ve,_ as we}from"../chunks/vendor-e1797305.js";import{d as re,i as le}from"../chunks/i18n-4dc7e672.js";import{S as ke}from"../chunks/StoryCardList-1f80e7da.js";import{H as be}from"../chunks/Helmet-cab0051a.js";function je(s){let t;return{c(){t=w("div"),this.h()},l(e){t=k(e,"DIV",{class:!0}),j(t).forEach(h),this.h()},h(){p(t,"class","svelte-1tx04cq")},m(e,r){z(e,t,r)},p:E,i:E,o:E,d(e){e&&h(t)}}}class ye extends W{constructor(t){super();A(this,t,null,je,L,{})}}function qe(s){let t,e,r;return{c(){t=w("div"),e=w("img"),this.h()},l(n){t=k(n,"DIV",{class:!0});var i=j(t);e=k(i,"IMG",{class:!0,src:!0,alt:!0}),i.forEach(h),this.h()},h(){p(e,"class","taipei-map svelte-otort9"),ne(e.src,r="covers/taipei_streets_"+(s[2]==="dark"?"white":"black")+".svg")||p(e,"src",r),p(e,"alt","Taipei Map"),b(e,"prioritizeWidth",s[0]),p(t,"class","wrapper svelte-otort9")},m(n,i){z(n,t,i),d(t,e),s[6](t)},p(n,[i]){i&4&&!ne(e.src,r="covers/taipei_streets_"+(n[2]==="dark"?"white":"black")+".svg")&&p(e,"src",r),i&1&&b(e,"prioritizeWidth",n[0])},i:E,o:E,d(n){n&&h(t),s[6](null)}}}const Ee=580,Ie=550;function ze(s,t,e){let r,n,{width:i}=t,{height:_}=t;const l=ie("theme");oe(s,l,c=>e(2,n=c));let f;function a(c){ce[c?"unshift":"push"](()=>{f=c,e(1,f)})}return s.$$set=c=>{"width"in c&&e(4,i=c.width),"height"in c&&e(5,_=c.height)},s.$$.update=()=>{s.$$.dirty&48&&e(0,r=i/_>Ee/Ie),s.$$.dirty&17},[r,f,n,l,i,_,a]}class De extends W{constructor(t){super();A(this,t,ze,qe,L,{width:4,height:5})}}function Se(s){let t;return{c(){t=w("div"),this.h()},l(e){t=k(e,"DIV",{class:!0}),j(t).forEach(h),this.h()},h(){p(t,"class","svelte-1tx04cq")},m(e,r){z(e,t,r)},p:E,i:E,o:E,d(e){e&&h(t)}}}class Ce extends W{constructor(t){super();A(this,t,null,Se,L,{})}}function Ve(s){let t,e,r,n,i,_,l,f,a,c,u,I,K,g,B,O,v,R,Y,U,Z,$;var C=s[4][s[0]];function x(o){return{props:{width:o[1],height:o[2]}}}return C&&(e=new C(x(s))),{c(){t=w("div"),e&&P(e.$$.fragment),n=F(),i=w("div"),_=w("div"),l=w("div"),f=w("span"),a=D("Daniel Kao"),c=D(` is a
      `),u=w("span"),I=D("graphics journalist"),K=D(` at commonwealth magazine,
      `),g=w("span"),B=D("taiwanese-californian"),O=D(`, currently living in
      `),v=w("span"),R=D("taipei, taiwan"),Y=D("."),this.h()},l(o){t=k(o,"DIV",{class:!0});var m=j(t);e&&X(e.$$.fragment,m),m.forEach(h),n=Q(o),i=k(o,"DIV",{class:!0});var V=j(i);_=k(V,"DIV",{class:!0});var T=j(_);l=k(T,"DIV",{class:!0});var q=j(l);f=k(q,"SPAN",{class:!0});var ee=j(f);a=S(ee,"Daniel Kao"),ee.forEach(h),c=S(q,` is a
      `),u=k(q,"SPAN",{class:!0});var te=j(u);I=S(te,"graphics journalist"),te.forEach(h),K=S(q,` at commonwealth magazine,
      `),g=k(q,"SPAN",{class:!0});var se=j(g);B=S(se,"taiwanese-californian"),se.forEach(h),O=S(q,`, currently living in
      `),v=k(q,"SPAN",{class:!0});var ae=j(v);R=S(ae,"taipei, taiwan"),ae.forEach(h),Y=S(q,"."),q.forEach(h),T.forEach(h),V.forEach(h),this.h()},h(){p(t,"class","illustration svelte-18a09dq"),_e(()=>s[5].call(t)),p(f,"class","name svelte-18a09dq"),p(u,"class","link svelte-18a09dq"),b(u,"active",s[0]==="gj"),p(g,"class","link svelte-18a09dq"),b(g,"active",s[0]==="tc"),p(v,"class","link svelte-18a09dq"),b(v,"active",s[0]==="tw"),p(l,"class","hero-text svelte-18a09dq"),b(l,"selected",!!s[0]),b(l,"loaded",s[3]),p(_,"class","grid svelte-18a09dq"),p(i,"class","hero svelte-18a09dq")},m(o,m){z(o,t,m),e&&M(e,t,null),r=ue(t,s[5].bind(t)),z(o,n,m),z(o,i,m),d(i,_),d(_,l),d(l,f),d(f,a),d(l,c),d(l,u),d(u,I),d(l,K),d(l,g),d(g,B),d(l,O),d(l,v),d(v,R),d(l,Y),U=!0,Z||($=[y(u,"mouseover",s[6]),y(u,"click",H(s[7])),y(u,"focus",H(s[8])),y(g,"mouseover",s[9]),y(g,"click",H(s[10])),y(g,"focus",H(s[11])),y(v,"mouseover",s[12]),y(v,"click",H(s[13])),y(v,"focus",H(s[14])),y(i,"click",s[15])],Z=!0)},p(o,[m]){const V={};if(m&2&&(V.width=o[1]),m&4&&(V.height=o[2]),C!==(C=o[4][o[0]])){if(e){he();const T=e;N(T.$$.fragment,1,0,()=>{G(T,1)}),fe()}C?(e=new C(x(o)),P(e.$$.fragment),J(e.$$.fragment,1),M(e,t,null)):e=null}else C&&e.$set(V);m&1&&b(u,"active",o[0]==="gj"),m&1&&b(g,"active",o[0]==="tc"),m&1&&b(v,"active",o[0]==="tw"),m&1&&b(l,"selected",!!o[0]),m&8&&b(l,"loaded",o[3])},i(o){U||(e&&J(e.$$.fragment,o),U=!0)},o(o){e&&N(e.$$.fragment,o),U=!1},d(o){o&&h(t),e&&G(e),r(),o&&h(n),o&&h(i),Z=!1,pe($)}}}function He(s,t,e){const r={gj:ye,tw:De,tc:Ce};let n=null,i,_,l=!1;de(()=>{e(3,l=!0)});function f(){_=this.clientHeight,i=this.clientWidth,e(2,_),e(1,i)}return[n,i,_,l,r,f,()=>{e(0,n="gj")},()=>{e(0,n="gj")},()=>{e(0,n="gj")},()=>{e(0,n="tc")},()=>{e(0,n="tc")},()=>{e(0,n="tc")},()=>{e(0,n="tw")},()=>{e(0,n="tw")},()=>{e(0,n="tw")},()=>{e(0,n=null)}]}class Te extends W{constructor(t){super();A(this,t,He,Ve,L,{})}}function We(s){let t,e,r,n,i,_;const l=[s[1]];let f={};for(let a=0;a<l.length;a+=1)f=me(f,l[a]);return t=new be({props:f}),r=new Te({}),i=new ke({props:{posts:s[2],pagination:s[0]}}),{c(){P(t.$$.fragment),e=F(),P(r.$$.fragment),n=F(),P(i.$$.fragment)},l(a){X(t.$$.fragment,a),e=Q(a),X(r.$$.fragment,a),n=Q(a),X(i.$$.fragment,a)},m(a,c){M(t,a,c),z(a,e,c),M(r,a,c),z(a,n,c),M(i,a,c),_=!0},p(a,[c]){const u=c&2?ge(l,[ve(a[1])]):{};t.$set(u);const I={};c&4&&(I.posts=a[2]),c&1&&(I.pagination=a[0]),i.$set(I)},i(a){_||(J(t.$$.fragment,a),J(r.$$.fragment,a),J(i.$$.fragment,a),_=!0)},o(a){N(t.$$.fragment,a),N(r.$$.fragment,a),N(i.$$.fragment,a),_=!1},d(a){G(t,a),a&&h(e),G(r,a),a&&h(n),G(i,a)}}}async function Ge({fetch:s}){s("/rss.xml");const{posts:t=[],pagination:e={}}=await s("/content/posts-1.json").then(r=>r.json());return{props:{posts:t,pagination:e}}}function Ae(s,t,e){let r,n,i,_,l=E,f=()=>(l(),l=we(r,u=>e(5,_=u)),r);s.$$.on_destroy.push(()=>l());let{posts:a}=t,{pagination:c}=t;return s.$$set=u=>{"posts"in u&&e(4,a=u.posts),"pagination"in u&&e(0,c=u.pagination)},s.$$.update=()=>{s.$$.dirty&48&&e(2,n=a.map(u=>u[_.locale]||u[re])),s.$$.dirty&32&&e(1,i={title:le[_.locale].home||le[re].home})},f(e(3,r=ie("locale"))),[c,i,n,r,a,_]}class Je extends W{constructor(t){super();A(this,t,Ae,We,L,{posts:4,pagination:0})}}export{Je as default,Ge as load};
