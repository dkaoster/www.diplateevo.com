import{S as w,i as L,s as S,B as C,v as f,j as H,e as q,w as g,l as B,c as D,a as I,d as u,b as z,x as h,f as d,y as A,z as E,p as y,n as b,A as j,_ as P,L as U,I as V}from"../../chunks/vendor-e1797305.js";import{d as k,i as v}from"../../chunks/i18n-4dc7e672.js";import{S as x}from"../../chunks/StoryCardList-1f80e7da.js";import{H as F}from"../../chunks/Helmet-cab0051a.js";function G(r){let t,s,i,n,l;const m=[r[2]];let p={};for(let e=0;e<m.length;e+=1)p=C(p,m[e]);return t=new F({props:p}),n=new x({props:{posts:r[3],pagination:r[1]}}),{c(){f(t.$$.fragment),s=H(),i=q("div"),f(n.$$.fragment),this.h()},l(e){g(t.$$.fragment,e),s=B(e),i=D(e,"DIV",{class:!0});var a=I(i);g(n.$$.fragment,a),a.forEach(u),this.h()},h(){z(i,"class","page-wrap svelte-bfqkvk")},m(e,a){h(t,e,a),d(e,s,a),d(e,i,a),h(n,i,null),l=!0},p(e,[a]){const _=a&4?A(m,[E(e[2])]):{};t.$set(_);const c={};a&8&&(c.posts=e[3]),a&2&&(c.pagination=e[1]),n.$set(c)},i(e){l||(y(t.$$.fragment,e),y(n.$$.fragment,e),l=!0)},o(e){b(t.$$.fragment,e),b(n.$$.fragment,e),l=!1},d(e){j(t,e),e&&u(s),e&&u(i),j(n)}}}async function Q({fetch:r,params:{page:t}}){if(t==="1")return{status:301,redirect:"/"};const{posts:s,pagination:i}=await r(`/content/posts-${t}.json`).then(n=>n.json());return s?{props:{posts:s,pagination:i,page:t}}:{status:404}}function J(r,t,s){let i,n,l,m=V,p=()=>(m(),m=P(c,o=>s(6,l=o)),c);r.$$.on_destroy.push(()=>m());let{page:e}=t,{posts:a}=t,{pagination:_}=t,{locale:c}=t;return p(),r.$$set=o=>{"page"in o&&s(4,e=o.page),"posts"in o&&s(5,a=o.posts),"pagination"in o&&s(1,_=o.pagination),"locale"in o&&p(s(0,c=o.locale))},r.$$.update=()=>{r.$$.dirty&96&&s(3,i=a.map(o=>o[l.locale]||o[k])),r.$$.dirty&80&&s(2,n={title:(v[l.locale].page||v[k].page).replace("<>",e)})},p(s(0,c=U("locale"))),[c,_,n,i,e,a,l]}class R extends w{constructor(t){super();L(this,t,J,G,S,{page:4,posts:5,pagination:1,locale:0})}}export{R as default,Q as load};
