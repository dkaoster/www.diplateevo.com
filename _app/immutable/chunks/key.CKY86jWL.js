import{h as u,c as D,m as H,b as U,o as B,t as x,q as G,v as A,w as C,x as E,y as T,z as g,r as I,a as d,p as h,A as L,i as j,B as P,C as Z,j as F,U as J}from"./runtime.B-gH6Wzu.js";const N=0,v=1,q=2;function M(p,y,o,i,c){u&&D();var a=p,l=H(),z=P,r,n,f,t,m=(l?A:C)(void 0),k=(l?A:C)(void 0),b=!1;function _(e,s){b=!0,s&&(E(w),T(w),g(z));try{e===N&&o&&(n?I(n):n=d(()=>o(a))),e===v&&i&&(f?I(f):f=d(()=>i(a,m))),e===q&&c&&(t?I(t):t=d(()=>c(a,k))),e!==N&&n&&h(n,()=>n=null),e!==v&&f&&h(f,()=>f=null),e!==q&&t&&h(t,()=>t=null)}finally{s&&(g(null),T(null),E(null),L())}}var w=U(()=>{if(r!==(r=y())){if(B(r)){var e=r;b=!1,e.then(s=>{e===r&&(x(m,s),_(v,!0))},s=>{if(e===r)throw x(k,s),_(q,!0),k.v}),u||G(()=>{b||_(N,!0)})}else x(m,r),_(v,!1);return()=>r=null}});u&&(a=j)}function O(p,y,o){u&&D();var i=p,c=J,a,l=H()?Z:F;U(()=>{l(c,c=y())&&(a&&h(a),a=d(()=>o(i)))}),u&&(i=j)}export{M as a,O as k};
